<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dex | Modern Pokedex</title>

    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
        <i class="fas fa-check-circle"></i>
        <span id="toast-message"></span>
    </div>

    <!-- Sidebar Team Builder -->
    <div id="team-sidebar" class="team-sidebar">
        <div class="sidebar-header">
            <h3><i class="fas fa-users"></i> My Team</h3>
            <button id="close-sidebar" class="icon-btn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="team-slots" class="team-slots">
            <!-- Team slots will be generated by JavaScript -->
        </div>
        <div class="sidebar-actions">
            <button id="clear-team-btn" class="btn btn-danger btn-sm">
                <i class="fas fa-trash"></i> Clear Team
            </button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">

        <!-- TOP BAR -->
        <div class="top-bar">
            <div class="top-bar-left">
                <button id="team-toggle-btn" class="icon-btn">
                    <i class="fas fa-users"></i>
                    <span id="team-count" class="badge">0</span>
                </button>
                <button id="favorites-btn" class="icon-btn">
                    <i class="fas fa-star"></i>
                    <span id="favorites-count" class="badge">0</span>
                </button>
            </div>
            <div class="top-bar-right">
                <button id="dark-mode-toggle" class="icon-btn" title="Toggle Dark Mode">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>

        <!-- HEADER SECTION -->
        <header class="header">
            <div class="pokedex-lights">
                <div class="light blue-light">
                    <div class="light-inner"></div>
                    <div class="light-shine"></div>
                </div>
                <div class="light red-light"></div>
                <div class="light yellow-light"></div>
                <div class="light green-light"></div>
            </div>
            <h1 class="title">Dex</h1>
            <p class="subtitle">Modern Pokemon Encyclopedia</p>
        </header>

        <!-- SEARCH SECTION -->
        <section class="search-section">
            <div class="search-container">
                <input
                    type="text"
                    id="pokemon-search"
                    class="search-input"
                    placeholder="Enter Pokemon name or ID..."
                    autocomplete="off"
                >
                <button id="search-btn" class="btn btn-primary">
                    <i class="fas fa-search"></i> Search
                </button>
                <button id="random-btn" class="btn btn-secondary">
                    <i class="fas fa-dice"></i> Random
                </button>
            </div>
            <!-- Error message display -->
            <div id="error-message" class="error-message hidden"></div>
        </section>

        <!-- LOADING SPINNER -->
        <div id="loading-spinner" class="loading-spinner hidden">
            <div class="spinner"></div>
            <p>Loading Pokemon data...</p>
        </div>

        <!-- POKEMON DATA DISPLAY SECTION -->
        <section id="pokemon-display" class="pokemon-display hidden">

            <!-- Action Buttons Row -->
            <div class="action-buttons">
                <button id="add-to-team-btn" class="btn btn-success btn-sm">
                    <i class="fas fa-plus"></i> Add to Team
                </button>
                <button id="toggle-favorite-btn" class="btn btn-warning btn-sm">
                    <i class="far fa-star"></i> Favorite
                </button>
                <button id="toggle-shiny-btn" class="btn btn-info btn-sm">
                    <i class="fas fa-sparkles"></i> Shiny Form
                </button>
            </div>

            <!-- Main Info Grid -->
            <div class="pokemon-grid">

                <!-- LEFT COLUMN: Main Info Card -->
                <div class="main-card glass-effect">
                    <div class="card-header">
                        <div class="pokemon-id-name">
                            <h2 id="pokemon-name">---</h2>
                            <span id="pokemon-id" class="pokemon-id-badge">#000</span>
                        </div>
                        <div id="pokemon-type" class="type-badges">
                            <!-- Type badges inserted by JS -->
                        </div>
                    </div>

                    <div class="card-body">
                        <!-- Sprite Section -->
                        <div class="sprite-container">
                            <img id="pokemon-sprite" src="" alt="Pokemon Sprite" class="pokemon-sprite">
                        </div>

                        <!-- Info Grid -->
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label"><i class="fas fa-ruler-vertical"></i> Height</span>
                                <span id="pokemon-height" class="info-value">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label"><i class="fas fa-weight"></i> Weight</span>
                                <span id="pokemon-weight" class="info-value">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label"><i class="fas fa-layer-group"></i> Generation</span>
                                <span id="pokemon-generation" class="info-value">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label"><i class="fas fa-tree"></i> Habitat</span>
                                <span id="pokemon-habitat" class="info-value">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label"><i class="fas fa-venus-mars"></i> Gender Ratio</span>
                                <span id="pokemon-gender" class="info-value">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label"><i class="fas fa-crosshairs"></i> Capture Rate</span>
                                <span id="pokemon-capture" class="info-value">-</span>
                            </div>
                        </div>

                        <!-- Description -->
                        <div class="description-section">
                            <h3 class="section-title"><i class="fas fa-book"></i> Description</h3>
                            <p id="pokemon-description" class="description-text">
                                Search for a Pokemon to see its description.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- RIGHT COLUMN: Stats & Details -->
                <div class="stats-column">

                    <!-- Abilities Card -->
                    <div class="detail-card glass-effect">
                        <h3 class="section-title"><i class="fas fa-bolt"></i> Abilities</h3>
                        <div id="pokemon-abilities" class="abilities-list">
                            <!-- Abilities inserted by JS -->
                        </div>
                    </div>

                    <!-- Base Stats Card -->
                    <div class="detail-card glass-effect">
                        <h3 class="section-title"><i class="fas fa-chart-bar"></i> Base Stats</h3>
                        <div id="pokemon-stats" class="stats-list">
                            <!-- Stats inserted by JS -->
                        </div>
                        <div class="stat-total">
                            <span class="stat-label">Total:</span>
                            <span id="stat-total-value" class="stat-value-text">0</span>
                        </div>
                    </div>

                    <!-- Type Effectiveness Card -->
                    <div class="detail-card glass-effect">
                        <h3 class="section-title"><i class="fas fa-shield-alt"></i> Type Effectiveness</h3>
                        <div class="type-effectiveness">
                            <div class="effectiveness-row">
                                <span class="effectiveness-label weak">Weak to (2x):</span>
                                <div id="weak-to" class="effectiveness-types"></div>
                            </div>
                            <div class="effectiveness-row">
                                <span class="effectiveness-label resist">Resistant (0.5x):</span>
                                <div id="resistant-to" class="effectiveness-types"></div>
                            </div>
                            <div class="effectiveness-row">
                                <span class="effectiveness-label immune">Immune (0x):</span>
                                <div id="immune-to" class="effectiveness-types"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Moves Card -->
            <div class="moves-card glass-effect">
                <h3 class="section-title"><i class="fas fa-fist-raised"></i> Moves Learned (Level-Up)</h3>
                <div id="pokemon-moves" class="moves-grid">
                    <!-- Moves inserted by JS -->
                </div>
            </div>

            <!-- Evolution Chain Card -->
            <div class="evolution-card glass-effect">
                <h3 class="section-title"><i class="fas fa-seedling"></i> Evolution Chain</h3>
                <div id="evolution-chain" class="evolution-container">
                    <!-- Evolution chain inserted by JS -->
                </div>
            </div>

        </section>

    </div>

    <!-- Link to external JavaScript file -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
